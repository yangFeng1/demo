<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
</head>
<body>
  
</body>
</html>
<script>
 /*
1.数组得解构赋值
1)“模式匹配”为变量赋值；var [a, b, c] = [1, 2, 3];
2) 不完全解构，即等号左边的模式，只匹配一部分的等号右边的数组。
  */
/* let [a,[b],d] = [1,[2,3],4]
 console.log(a) //1
 console.log(b) //2
 console.log(d) //4*/

/*
2.对象的解构赋值

1)对象的解构与数组有一个重要的不同。数组的元素是按次序排列的，变量的取值由它的位置决定；而对象的属性没有次序，变量必须与属性同名，才能取到正确的值。
 */

/*var {bar,foo} = {foo:'aaa',bar:'bbb'}
console.log(foo)//aaa
console.log(bar)//bbb*/

//2)变量名与属性名不一致，必须写成下面这样。这实际上说明，对象的解构赋值是下面形式的简写。也就是说，对象的解构赋值的内部机制，是先找到同名属性，然后再赋给对应的变量。真正被赋值的是后者，而不是前者。
/*var {foo:baz} = {foo:'aaa'}
console.log(baz)//aaa*/


//3)和数组一样，解构也可以用于嵌套结构的对象。

var obj = {
  p:[
    'hellow',
    {y:'world'}
  ]
};
//这时p是模式，不是变量，因此不会被赋值
/*var {p:[a,{y}]} = obj
console.log(a)//hellow
console.log(y)//world*/

/*var {p} = obj
console.log(p)*/

//4)数组本质是特殊的对象，因此可以对数组进行对象属性的解构
/* var arr = [1,2,3]
 var {0:first,[arr.length-1]:last} = arr
 console.log(first)
 console.log(last)*/


 /*
 3.字符串的解构赋值

1)字符串也可以解构赋值。这是因为此时，字符串被转换成了一个类似数组的对象。

2)类似数组的对象都有一个length属性，因此还可以对这个属性解构赋值。
  */

/*var [a,b,c,d,f] = 'hellow'
console.log(a)//h
console.log(b)//e
console.log(c)//l
console.log(d)//l
console.log(f)//o
let {length:g} = 'hellow'
console.log(g)//6*/


/*
4.数值和布尔值的解构赋值

解构赋值的规则是，只要等号右边的值不是对象，就先将其转为对象。由于undefined和null无法转为对象，所以对它们进行解构赋值，都会报错。
 */

/*let {toString:s} = 123
console.log(s=== Number.prototype.toString)//true
let{toString:a} = true
console.log(s=== Number.prototype.toString)//true
let{toString:a} = undefined
console.log(s=== Number.prototype.toString)//报错*/

//变量解构赋值的用途
//函数参数的定义，解构赋值可以方便地将一组参数与变量名对应起来。
/*function f([x,y,z]){
  console.log(x)
  console.log(y)
  console.log(z)
}
f([1,2,3])*/

//6)遍历map结构任何部署了Iterator接口的对象，都可以用for...of循环遍历。Map结构原生支持Iterator接口，配合变量的解构赋值，获取键名和键值就非常方便。

var map = new Map();
map.set('first','hellow')
map.set('second','world')

for(let [key,value] of map){
  console.log(key+'  is   '+value)
}
//first  is   hellow
//second  is   world 
/*
7）输入模块的指定方法

加载模块时，往往需要指定输入那些方法。解构赋值使得输入语句非常清晰。*/


const { SourceMapConsumer, SourceNode } = require("source-map");
</script>
